DELIMITER //
create PROCEDURE sp_obtenerVentaDetalle(
                                  in v_idVenta int)
BEGIN
	
    select 
    	vd.IdVentaDetalle,
    	v.IdVenta,
        vd.IdProducto,
        vd.Item,
        ifnull(p.codigo,'') codigoProducto,
        ifnull(p.descripcion,'') descripcionProducto,   
        ifnull(vd.Cantidad,0) cantidad,
        ifnull(vd.Precio,0) precio,
        ifnull(vd.SubTotal,0) subTotal
    from ventadetalle vd
    inner join venta v on v.IdVenta=vd.IdVenta
    inner join producto p on p.IdProducto=vd.IdProducto
    where 
    v.IdVenta=v_idVenta;
    
END //