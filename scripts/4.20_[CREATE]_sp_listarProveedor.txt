DELIMITER 
create PROCEDURE sp_listarProveedor(
                                  in v_nombre varchar(50),
                                  in v_numeroDocumento varchar(20),
                                  in v_fechaInicio date,
                                  in v_fechaFin date)
BEGIN
	
    select 
    	p.IdProveedor,
        ifnull(p.IdTipoDocumento,0) IdTipoDocumento,
        ifnull(td.Nombre,'') NombreDocumento,
        ifnull(p.NumeroDocumento,'') NumeroDocumento,
        ifnull(p.Nombre,'') Nombre,
        ifnull(p.Apellidos,'') Apellidos,
        ifnull(p.Cargo,'') Cargo,
        ifnull(p.Direccion,'') Direccion,
        ifnull(p.Telefono,'') Telefono,
        ifnull(p.Celular,'') Celular,
        ifnull(p.Email,'') Email,
        ifnull(p.EsActivo,0) EsActivo,
        ifnull(p.IdUsuarioRegistro,0) IdUsuarioRegistro,
        ifnull(p.IdUsuarioModificacion,0) IdUsuarioModificacion,
        p.FechaRegistro,
        p.FechaModificacion
    from proveedor p 
    left join tipodocumento td on td.IdTipoDocumento=p.IdTipoDocumento
    where 
    p.NumeroDocumento=if(ifnull(v_numeroDocumento,'')='',p.NumeroDocumento,v_numeroDocumento)
    and  p.Nombre=if(ifnull(v_nombre,'')='',p.Nombre,v_nombre)
    and CONVERT(p.FechaRegistro, DATE) BETWEEN v_fechaInicio and v_fechaFin;
    
END 